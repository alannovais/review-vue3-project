{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nimport { useRoute } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport AlertConfirm from \"@/components/AlertConfirm\";\nexport default {\n  __name: 'DetailContatctView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const route = useRoute();\n    let array = JSON.parse(localStorage.getItem(\"contacts\"));\n    let user = ref({\n      id: 0,\n      name: \"\",\n      contact: \"\",\n      email: \"\",\n      picture: \"\"\n    });\n    const loadUpdate = () => {\n      if (array == null || typeof array === \"undefined\") return;\n      if ((array == null || typeof array === \"undefined\") && route.params.id) return router.push({\n        path: `/`\n      });\n      let filtred = [];\n      if (array.length > 0) filtred = array.filter(e => e.id == route.params.id);\n      if (filtred.length > 0) user = filtred[0];\n    };\n    onMounted(() => {\n      loadUpdate();\n    });\n    let title = !route.params.id ? \"Create task\" : \"Update task\";\n    const userReset = {\n      id: 0,\n      name: \"\",\n      contact: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n    const register = param => {\n      if (param.contact.trim().length == 0 || param.contact.trim().length == 0) return;\n      let agenda = [];\n      let store = localStorage.getItem(\"contacts\");\n      let objAgenda = {\n        ...param\n      };\n      if (store == null || typeof store === \"undefined\") {\n        objAgenda.id = agenda.length + 1;\n        agenda.push(objAgenda);\n        localStorage.setItem(\"contacts\", JSON.stringify(agenda));\n      } else {\n        agenda = JSON.parse(store);\n        objAgenda.id = agenda.length + 1;\n        agenda.push(objAgenda);\n        localStorage.setItem(\"contacts\", JSON.stringify(agenda));\n      }\n      user.value = {\n        ...userReset\n      };\n      return router.push({\n        path: `/`\n      });\n    };\n    const update = param => {\n      if (param.contact.trim().length == 0 || param.contact.trim().length == 0) return;\n      let agenda = [];\n      let store = localStorage.getItem(\"contacts\");\n      let objAgenda = {\n        ...param\n      };\n      if (!store == null || typeof store !== \"undefined\") {\n        agenda = JSON.parse(store);\n        let updated = agenda.map(e => {\n          if (e.id == route.params.id) {\n            e = {\n              ...objAgenda\n            };\n          }\n          return e;\n        });\n        localStorage.setItem(\"contacts\", JSON.stringify(updated));\n      }\n      user.value = {\n        ...userReset\n      };\n      return router.push({\n        path: `/`\n      });\n    };\n    const oepnDelete = () => {\n      openDialog.value = true;\n    };\n    let openDialog = ref(false);\n    let dialog = {\n      titleDialog: \"Confirm remove!\",\n      msgDialog: \"Wold you like to confirm remove this record?\",\n      btCofirmDialog: \"Confirm\",\n      btCancelDialog: \"Cancel\"\n    };\n    const OnConfirm = emit => {\n      openDialog.value = false;\n      let store = localStorage.getItem(\"contacts\");\n      if (store == null || typeof store === \"undefined\") return;\n      let array = JSON.parse(store);\n      let deleteArray = array.filter(e => e.id != route.params.id);\n      localStorage.setItem(\"contacts\", JSON.parese(deleteArray));\n      return router.push({\n        path: `/`\n      });\n    };\n    const onCancel = emit => {\n      openDialog.value = false;\n      console.log(\"run\", emit);\n    };\n    const goToList = () => {\n      router.push({\n        path: `/`\n      });\n    };\n    const __returned__ = {\n      route,\n      get array() {\n        return array;\n      },\n      set array(v) {\n        array = v;\n      },\n      get user() {\n        return user;\n      },\n      set user(v) {\n        user = v;\n      },\n      loadUpdate,\n      get title() {\n        return title;\n      },\n      set title(v) {\n        title = v;\n      },\n      userReset,\n      register,\n      update,\n      oepnDelete,\n      get openDialog() {\n        return openDialog;\n      },\n      set openDialog(v) {\n        openDialog = v;\n      },\n      get dialog() {\n        return dialog;\n      },\n      set dialog(v) {\n        dialog = v;\n      },\n      OnConfirm,\n      onCancel,\n      goToList,\n      get router() {\n        return router;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      ref,\n      onMounted,\n      get AlertConfirm() {\n        return AlertConfirm;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["router","useRoute","ref","onMounted","AlertConfirm","route","array","JSON","parse","localStorage","getItem","user","id","name","contact","email","picture","loadUpdate","params","push","path","filtred","length","filter","e","title","userReset","register","param","trim","agenda","store","objAgenda","setItem","stringify","value","update","updated","map","oepnDelete","openDialog","dialog","titleDialog","msgDialog","btCofirmDialog","btCancelDialog","OnConfirm","emit","deleteArray","parese","onCancel","console","log","goToList"],"sources":["C:/Users/Alan/Documents/dev/cloudcmd/src/pages/DetailContatctView.vue"],"sourcesContent":["<script setup>\r\nimport router from \"@/router\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport AlertConfirm from \"@/components/AlertConfirm\";\r\n\r\nconst route = useRoute();\r\nlet array = JSON.parse(localStorage.getItem(\"contacts\"));\r\n\r\nlet user = ref({\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n});\r\n\r\nconst loadUpdate = () => {\r\n  if (array == null || typeof array === \"undefined\") return;\r\n  if ((array == null || typeof array === \"undefined\") && route.params.id)\r\n    return router.push({ path: `/` });\r\n  let filtred = [];\r\n  if (array.length > 0) filtred = array.filter((e) => e.id == route.params.id);\r\n  if (filtred.length > 0) user = filtred[0];\r\n};\r\n\r\nonMounted(() => {\r\n  loadUpdate();\r\n});\r\n\r\nlet title = !route.params.id ? \"Create task\" : \"Update task\";\r\n\r\nconst userReset = {\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n};\r\n\r\nconst register = (param) => {\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (store == null || typeof store === \"undefined\") {\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  } else {\r\n    agenda = JSON.parse(store);\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  }\r\n  user.value = { ...userReset };\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst update = (param) => {\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (!store == null || typeof store !== \"undefined\") {\r\n    agenda = JSON.parse(store);\r\n    let updated = agenda.map((e) => {\r\n      if (e.id == route.params.id) {\r\n        e = { ...objAgenda };\r\n      }\r\n      return e;\r\n    });\r\n    localStorage.setItem(\"contacts\", JSON.stringify(updated));\r\n  }\r\n  user.value = { ...userReset };\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst oepnDelete = () => {\r\n  openDialog.value = true;\r\n};\r\n\r\nlet openDialog = ref(false);\r\nlet dialog = {\r\n  titleDialog: \"Confirm remove!\",\r\n  msgDialog: \"Wold you like to confirm remove this record?\",\r\n  btCofirmDialog: \"Confirm\",\r\n  btCancelDialog: \"Cancel\",\r\n};\r\n\r\nconst OnConfirm = (emit) => {\r\n  openDialog.value = false;\r\n  let store = localStorage.getItem(\"contacts\");\r\n  if (store == null || typeof store === \"undefined\") return;\r\n  let array = JSON.parse(store);\r\n  let deleteArray = array.filter((e) => e.id != route.params.id);\r\n  localStorage.setItem(\"contacts\", JSON.parese(deleteArray))\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst onCancel = (emit) => {\r\n  openDialog.value = false;\r\n  console.log(\"run\", emit);\r\n};\r\n\r\nconst goToList = () => {\r\n  router.push({ path: `/` });\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"hello\"\r\n    style=\"display: flex; justify-content: center; flex-direction: column\"\r\n  >\r\n    <v-btn type=\"button\" @click=\"goToList\"\r\n      ><span style=\"color: white\">\r\n        <v-icon color=\"red\" icon=\"mdi-arrow-left\" class=\"colorPositionArrow\"\r\n      /></span>\r\n    </v-btn>\r\n    <h1>{{ title }}</h1>\r\n\r\n    <form @keyup.enter=\"register(user)\">\r\n      <v-text-field v-model=\"user.name\" variant=\"outlined\" label=\"Name\" />\r\n      <v-text-field\r\n        v-model=\"user.contact\"\r\n        variant=\"outlined\"\r\n        label=\"Contact\"\r\n        persistent-hint\r\n        type=\"number\"\r\n      />\r\n      <v-text-field\r\n        v-model=\"user.email\"\r\n        variant=\"outlined\"\r\n        label=\"Email\"\r\n        persistent-hint\r\n        type=\"email\"\r\n      />\r\n      <v-text-field\r\n        v-model=\"user.picture\"\r\n        variant=\"outlined\"\r\n        label=\"Photo\"\r\n        persistent-hint\r\n      />\r\n      <v-btn\r\n        v-if=\"user.id == 0\"\r\n        type=\"button\"\r\n        :width=\"'1000'\"\r\n        :color=\"'#343439'\"\r\n        @click=\"register(user)\"\r\n        ><span style=\"color: white\">Save</span>\r\n      </v-btn>\r\n      <v-btn\r\n        v-else\r\n        type=\"button\"\r\n        :width=\"'1000'\"\r\n        :color=\"'#343439'\"\r\n        @click=\"update(user)\"\r\n        ><span style=\"color: white\">Update</span>\r\n      </v-btn>\r\n      <div\r\n        v-if=\"user.id != 0\"\r\n        style=\"background-color: white\"\r\n        @click=\"oepnDelete()\"\r\n      >\r\n        <v-icon\r\n          color=\"red\"\r\n          icon=\"mdi-trash-can-outline\"\r\n          class=\"colorPositionArrow\"\r\n        />\r\n      </div>\r\n    </form>\r\n    <AlertConfirm\r\n      :setDialog=\"openDialog\"\r\n      :dialogArray=\"dialog\"\r\n      @OnConfirm=\"OnConfirm\"\r\n      @onCancel=\"onCancel\"\r\n    />\r\n  </div>\r\n</template>\r\n<style scoped></style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}