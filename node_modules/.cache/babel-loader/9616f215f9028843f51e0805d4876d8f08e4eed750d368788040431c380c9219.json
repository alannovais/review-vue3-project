{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, withKeys as _withKeys } from \"vue\";\nconst _hoisted_1 = {\n  class: \"hello\",\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"flex-direction\": \"column\"\n  }\n};\nconst _hoisted_2 = {\n  style: {\n    \"color\": \"#123644\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"row\",\n    \"justify-content\": \"space-between\",\n    \"margin-bottom\": \"1.3rem\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"color\": \"#20dad8\"\n  }\n}, \"Save\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"color\": \"#20dad8\"\n  }\n}, \"Update\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_AlertConfirm = _resolveComponent(\"AlertConfirm\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h1\", _hoisted_2, _toDisplayString(_ctx.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_createVNode(_component_v_btn, {\n    type: \"button\",\n    width: \"20\",\n    onClick: _ctx.goToList,\n    elevation: \"6\",\n    color: \"#14697f\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"span\", null, [_createVNode(_component_v_icon, {\n      color: \"#20dad8\",\n      icon: \"mdi-arrow-left\",\n      class: \"colorPositionArrow\"\n    })])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])]), _ctx.user.id != 0 ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    style: {\n      \"background-color\": \"white\"\n    },\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.oepnDelete())\n  }, [_createVNode(_component_v_icon, {\n    color: \"red\",\n    icon: \"mdi-trash-can-outline\",\n    class: \"colorPositionArrow\"\n  })])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_createElementVNode(\"form\", {\n    onKeyup: _cache[7] || (_cache[7] = _withKeys($event => _ctx.register(_ctx.user), [\"enter\"]))\n  }, [_createVNode(_component_v_text_field, {\n    modelValue: _ctx.user.name,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.user.name = $event),\n    variant: \"outlined\",\n    label: \"Name\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n    modelValue: _ctx.user.contact,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.user.contact = $event),\n    variant: \"outlined\",\n    label: \"Contact\",\n    \"persistent-hint\": \"\",\n    type: \"number\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n    modelValue: _ctx.user.email,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.user.email = $event),\n    variant: \"outlined\",\n    label: \"Email\",\n    \"persistent-hint\": \"\",\n    type: \"email\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n    modelValue: _ctx.user.picture,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.user.picture = $event),\n    variant: \"outlined\",\n    label: \"Photo\",\n    type: \"file\",\n    onChange: _ctx.picture,\n    \"persistent-hint\": \"\"\n  }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\"]), _ctx.user.id == 0 ? (_openBlock(), _createBlock(_component_v_btn, {\n    key: 0,\n    type: \"button\",\n    width: '1000',\n    color: '#123644',\n    onClick: _cache[5] || (_cache[5] = $event => _ctx.register(_ctx.user))\n  }, {\n    default: _withCtx(() => [_hoisted_4]),\n    _: 1 /* STABLE */\n  })) : (_openBlock(), _createBlock(_component_v_btn, {\n    key: 1,\n    type: \"button\",\n    width: '1000',\n    color: '#123644',\n    onClick: _cache[6] || (_cache[6] = $event => _ctx.update(_ctx.user))\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1 /* STABLE */\n  }))], 32 /* HYDRATE_EVENTS */)]), _createVNode(_component_AlertConfirm, {\n    setDialog: _ctx.openDialog,\n    dialogArray: _ctx.dialog,\n    onOnConfirm: _ctx.OnConfirm,\n    onOnCancel: _ctx.onCancel\n  }, null, 8 /* PROPS */, [\"setDialog\", \"dialogArray\", \"onOnConfirm\", \"onOnCancel\"])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","_ctx","title","_hoisted_3","_createVNode","_component_v_btn","type","width","onClick","goToList","elevation","color","_component_v_icon","icon","user","id","_cache","$event","oepnDelete","onKeyup","_withKeys","register","_component_v_text_field","name","variant","label","contact","email","picture","onChange","_createBlock","_hoisted_4","update","_hoisted_5","_component_AlertConfirm","setDialog","openDialog","dialogArray","dialog","onOnConfirm","OnConfirm","onOnCancel","onCancel"],"sources":["C:\\Users\\Alan\\Documents\\dev\\cloudcmd\\src\\pages\\DetailContatctView.vue"],"sourcesContent":["<script setup>\r\nimport router from \"@/router\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport AlertConfirm from \"@/components/AlertConfirm\";\r\n\r\nconst route = useRoute();\r\nlet array = JSON.parse(localStorage.getItem(\"contacts\"));\r\n\r\nlet user = ref({\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n});\r\n\r\nconst loadUpdate = () => {\r\n  if (array == null || typeof array === \"undefined\") return;\r\n  if (route.params.id && !array.find((e) => e.id == route.params.id))\r\n    return router.push({ path: `/` });\r\n  let filtred = [];\r\n  if (array.length > 0) filtred = array.filter((e) => e.id == route.params.id);\r\n  if (filtred.length > 0) user = filtred[0];\r\n};\r\n\r\nonMounted(() => {\r\n  loadUpdate();\r\n});\r\n\r\nlet title = !route.params.id ? \"Create task\" : \"Update task\";\r\nlet image = \"\";\r\nconst userReset = {\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n};\r\n\r\nconst register = (param) => {\r\n  console.log(param.picture);\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (store == null || typeof store === \"undefined\") {\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  } else {\r\n    agenda = JSON.parse(store);\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  }\r\n  user.value = { ...userReset };\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst update = (param) => {\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (!store == null || typeof store !== \"undefined\") {\r\n    agenda = JSON.parse(store);\r\n    if (agenda.length > 0) {\r\n      let updated = agenda.map((e) => {\r\n        if (e.id == route.params.id) {\r\n          e = { ...objAgenda };\r\n        }\r\n        return e;\r\n      });\r\n      localStorage.setItem(\"contacts\", JSON.stringify(updated));\r\n    }\r\n  }\r\n  user.value = { ...userReset };\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst oepnDelete = () => {\r\n  openDialog.value = true;\r\n};\r\n\r\nlet openDialog = ref(false);\r\nlet dialog = {\r\n  titleDialog: \"Confirm remove!\",\r\n  msgDialog: \"Wold you like to confirm remove this record?\",\r\n  btCofirmDialog: \"Confirm\",\r\n  btCancelDialog: \"Cancel\",\r\n};\r\n\r\nconst OnConfirm = () => {\r\n  openDialog.value = false;\r\n  let store = localStorage.getItem(\"contacts\");\r\n  if (store == null || typeof store === \"undefined\") return;\r\n  let array = JSON.parse(store);\r\n  if (array.length > 0) {\r\n    let deleteArray = array.filter((e) => e.id != route.params.id);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(deleteArray));\r\n  }\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst onCancel = () => {\r\n  openDialog.value = false;\r\n};\r\n\r\nconst goToList = () => {\r\n  router.push({ path: `/` });\r\n};\r\n\r\nconst picture = (event) => {\r\n  let file = event.target.files[0];\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.onload = async () => {\r\n    const encodedFile = reader.result.split(\",\")[1];\r\n    const data = {\r\n      file: encodedFile,\r\n    };\r\n    try {\r\n      await \r\n      image = data.file;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"hello\"\r\n    style=\"display: flex; justify-content: center; flex-direction: column\"\r\n  >\r\n    <h1 style=\"color: #123644\">{{ title }}</h1>\r\n    <div\r\n      style=\"\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        margin-bottom: 1.3rem;\r\n      \"\r\n    >\r\n      <div>\r\n        <v-btn\r\n          type=\"button\"\r\n          width=\"20\"\r\n          @click=\"goToList\"\r\n          elevation=\"6\"\r\n          color=\"#14697f\"\r\n          ><span>\r\n            <v-icon\r\n              color=\"#20dad8\"\r\n              icon=\"mdi-arrow-left\"\r\n              class=\"colorPositionArrow\"\r\n          /></span>\r\n        </v-btn>\r\n      </div>\r\n      <div\r\n        v-if=\"user.id != 0\"\r\n        style=\"background-color: white\"\r\n        @click=\"oepnDelete()\"\r\n      >\r\n        <v-icon\r\n          color=\"red\"\r\n          icon=\"mdi-trash-can-outline\"\r\n          class=\"colorPositionArrow\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <form @keyup.enter=\"register(user)\">\r\n        <v-text-field v-model=\"user.name\" variant=\"outlined\" label=\"Name\" />\r\n        <v-text-field\r\n          v-model=\"user.contact\"\r\n          variant=\"outlined\"\r\n          label=\"Contact\"\r\n          persistent-hint\r\n          type=\"number\"\r\n        />\r\n        <v-text-field\r\n          v-model=\"user.email\"\r\n          variant=\"outlined\"\r\n          label=\"Email\"\r\n          persistent-hint\r\n          type=\"email\"\r\n        />\r\n        <v-text-field\r\n          v-model=\"user.picture\"\r\n          variant=\"outlined\"\r\n          label=\"Photo\"\r\n          type=\"file\"\r\n          @change=\"picture\"\r\n          persistent-hint\r\n        />\r\n        <v-btn\r\n          v-if=\"user.id == 0\"\r\n          type=\"button\"\r\n          :width=\"'1000'\"\r\n          :color=\"'#123644'\"\r\n          @click=\"register(user)\"\r\n          ><span style=\"color: #20dad8\">Save</span>\r\n        </v-btn>\r\n        <v-btn\r\n          v-else\r\n          type=\"button\"\r\n          :width=\"'1000'\"\r\n          :color=\"'#123644'\"\r\n          @click=\"update(user)\"\r\n          ><span style=\"color: #20dad8\">Update</span>\r\n        </v-btn>\r\n      </form>\r\n    </div>\r\n    <AlertConfirm\r\n      :setDialog=\"openDialog\"\r\n      :dialogArray=\"dialog\"\r\n      @OnConfirm=\"OnConfirm\"\r\n      @onCancel=\"onCancel\"\r\n    />\r\n  </div>\r\n</template>\r\n<style scoped></style>\r\n"],"mappings":";;EA0IIA,KAAK,EAAC,OAAO;EACbC,KAAsE,EAAtE;IAAA;IAAA;IAAA;EAAA;;;EAEIA,KAAsB,EAAtB;IAAA;EAAA;AAAsB;;EAExBA,KAKC,EALD;IAAA;IAAA;IAAA;IAAA;EAAA;AAKC;gCA4DIC,mBAAA,CAAwC;EAAlCD,KAAsB,EAAtB;IAAA;EAAA;AAAsB,GAAC,MAAI;gCAQjCC,mBAAA,CAA0C;EAApCD,KAAsB,EAAtB;IAAA;EAAA;AAAsB,GAAC,QAAM;;;;;;;uBA/E5CE,mBAAA,CAyFM,OAzFNC,UAyFM,GArFJF,mBAAA,CAA2C,MAA3CG,UAA2C,EAAAC,gBAAA,CAAbC,IAAA,CAAAC,KAAK,kBACnCN,mBAAA,CAkCM,OAlCNO,UAkCM,GA1BJP,mBAAA,CAcM,cAbJQ,YAAA,CAYQC,gBAAA;IAXNC,IAAI,EAAC,QAAQ;IACbC,KAAK,EAAC,IAAI;IACTC,OAAK,EAAEP,IAAA,CAAAQ,QAAQ;IAChBC,SAAS,EAAC,GAAG;IACbC,KAAK,EAAC;;sBACL,MAKQ,CALRf,mBAAA,CAKQ,eAJPQ,YAAA,CAIAQ,iBAAA;MAHED,KAAK,EAAC,SAAS;MACfE,IAAI,EAAC,gBAAgB;MACrBnB,KAAK,EAAC;;;oCAKNO,IAAA,CAAAa,IAAI,CAACC,EAAE,S,cADflB,mBAAA,CAUM;;IARJF,KAA+B,EAA/B;MAAA;IAAA,CAA+B;IAC9Ba,OAAK,EAAAQ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEhB,IAAA,CAAAiB,UAAU;MAElBd,YAAA,CAIEQ,iBAAA;IAHAD,KAAK,EAAC,KAAK;IACXE,IAAI,EAAC,uBAAuB;IAC5BnB,KAAK,EAAC;+CAIZE,mBAAA,CA0CM,cAzCJA,mBAAA,CAwCO;IAxCAuB,OAAK,EAAAH,MAAA,QAAAA,MAAA,MAAAI,SAAA,CAAAH,MAAA,IAAQhB,IAAA,CAAAoB,QAAQ,CAACpB,IAAA,CAAAa,IAAI;MAC/BV,YAAA,CAAoEkB,uBAAA;gBAA7CrB,IAAA,CAAAa,IAAI,CAACS,IAAI;+DAATtB,IAAA,CAAAa,IAAI,CAACS,IAAI,GAAAN,MAAA;IAAEO,OAAO,EAAC,UAAU;IAACC,KAAK,EAAC;2CAC3DrB,YAAA,CAMEkB,uBAAA;gBALSrB,IAAA,CAAAa,IAAI,CAACY,OAAO;+DAAZzB,IAAA,CAAAa,IAAI,CAACY,OAAO,GAAAT,MAAA;IACrBO,OAAO,EAAC,UAAU;IAClBC,KAAK,EAAC,SAAS;IACf,iBAAe,EAAf,EAAe;IACfnB,IAAI,EAAC;2CAEPF,YAAA,CAMEkB,uBAAA;gBALSrB,IAAA,CAAAa,IAAI,CAACa,KAAK;+DAAV1B,IAAA,CAAAa,IAAI,CAACa,KAAK,GAAAV,MAAA;IACnBO,OAAO,EAAC,UAAU;IAClBC,KAAK,EAAC,OAAO;IACb,iBAAe,EAAf,EAAe;IACfnB,IAAI,EAAC;2CAEPF,YAAA,CAOEkB,uBAAA;gBANSrB,IAAA,CAAAa,IAAI,CAACc,OAAO;+DAAZ3B,IAAA,CAAAa,IAAI,CAACc,OAAO,GAAAX,MAAA;IACrBO,OAAO,EAAC,UAAU;IAClBC,KAAK,EAAC,OAAO;IACbnB,IAAI,EAAC,MAAM;IACVuB,QAAM,EAAE5B,IAAA,CAAA2B,OAAO;IAChB,iBAAe,EAAf;uDAGM3B,IAAA,CAAAa,IAAI,CAACC,EAAE,S,cADfe,YAAA,CAOQzB,gBAAA;;IALNC,IAAI,EAAC,QAAQ;IACZC,KAAK,EAAE,MAAM;IACbI,KAAK,EAAE,SAAS;IAChBH,OAAK,EAAAQ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEhB,IAAA,CAAAoB,QAAQ,CAACpB,IAAA,CAAAa,IAAI;;sBACpB,MAAwC,CAAxCiB,UAAwC,C;;uBAE3CD,YAAA,CAOQzB,gBAAA;;IALNC,IAAI,EAAC,QAAQ;IACZC,KAAK,EAAE,MAAM;IACbI,KAAK,EAAE,SAAS;IAChBH,OAAK,EAAAQ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEhB,IAAA,CAAA+B,MAAM,CAAC/B,IAAA,CAAAa,IAAI;;sBAClB,MAA0C,CAA1CmB,UAA0C,C;;oCAIjD7B,YAAA,CAKE8B,uBAAA;IAJCC,SAAS,EAAElC,IAAA,CAAAmC,UAAU;IACrBC,WAAW,EAAEpC,IAAA,CAAAqC,MAAM;IACnBC,WAAS,EAAEtC,IAAA,CAAAuC,SAAS;IACpBC,UAAQ,EAAExC,IAAA,CAAAyC"},"metadata":{},"sourceType":"module","externalDependencies":[]}