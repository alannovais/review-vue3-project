{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nimport { useRoute } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport AlertConfirm from \"@/components/AlertConfirm\";\nexport default {\n  __name: 'DetailContatctView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const route = useRoute();\n    let array = JSON.parse(localStorage.getItem(\"contacts\"));\n    let user = ref({\n      id: 0,\n      name: \"\",\n      contact: \"\",\n      email: \"\",\n      picture: \"\"\n    });\n    const loadUpdate = () => {\n      if (array == null || typeof array === \"undefined\") return;\n      if (route.params.id && !array.find(e => e.id == route.params.id)) return router.push({\n        path: `/`\n      });\n      let filtred = [];\n      if (array.length > 0) filtred = array.filter(e => e.id == route.params.id);\n      if (filtred.length > 0) user = filtred[0];\n    };\n    onMounted(() => {\n      loadUpdate();\n    });\n    let title = !route.params.id ? \"Create task\" : \"Update task\";\n    const userReset = {\n      id: 0,\n      name: \"\",\n      contact: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n    const register = param => {\n      if (param.contact.trim().length == 0 || param.contact.trim().length == 0) return;\n      let agenda = [];\n      let store = localStorage.getItem(\"contacts\");\n      let objAgenda = {\n        ...param\n      };\n      if (store == null || typeof store === \"undefined\") {\n        objAgenda.id = agenda.length + 1;\n        agenda.push(objAgenda);\n        localStorage.setItem(\"contacts\", JSON.stringify(agenda));\n      } else {\n        agenda = JSON.parse(store);\n        objAgenda.id = agenda.length + 1;\n        agenda.push(objAgenda);\n        localStorage.setItem(\"contacts\", JSON.stringify(agenda));\n      }\n      user.value = {\n        ...userReset\n      };\n      return router.push({\n        path: `/`\n      });\n    };\n    const update = param => {\n      if (param.contact.trim().length == 0 || param.contact.trim().length == 0) return;\n      let agenda = [];\n      let store = localStorage.getItem(\"contacts\");\n      let objAgenda = {\n        ...param\n      };\n      if (!store == null || typeof store !== \"undefined\") {\n        agenda = JSON.parse(store);\n        if (agenda.length > 0) {\n          let updated = agenda.map(e => {\n            if (e.id == route.params.id) {\n              e = {\n                ...objAgenda\n              };\n            }\n            return e;\n          });\n          localStorage.setItem(\"contacts\", JSON.stringify(updated));\n        }\n      }\n      user.value = {\n        ...userReset\n      };\n      return router.push({\n        path: `/`\n      });\n    };\n    const oepnDelete = () => {\n      openDialog.value = true;\n    };\n    let openDialog = ref(false);\n    let dialog = {\n      titleDialog: \"Confirm remove!\",\n      msgDialog: \"Wold you like to confirm remove this record?\",\n      btCofirmDialog: \"Confirm\",\n      btCancelDialog: \"Cancel\"\n    };\n    const OnConfirm = () => {\n      openDialog.value = false;\n      let store = localStorage.getItem(\"contacts\");\n      if (store == null || typeof store === \"undefined\") return;\n      let array = JSON.parse(store);\n      if (array.length > 0) {\n        let deleteArray = array.filter(e => e.id != route.params.id);\n        localStorage.setItem(\"contacts\", JSON.stringify(deleteArray));\n      }\n      return router.push({\n        path: `/`\n      });\n    };\n    const onCancel = () => {\n      openDialog.value = false;\n    };\n    const goToList = () => {\n      router.push({\n        path: `/`\n      });\n    };\n    const __returned__ = {\n      route,\n      get array() {\n        return array;\n      },\n      set array(v) {\n        array = v;\n      },\n      get user() {\n        return user;\n      },\n      set user(v) {\n        user = v;\n      },\n      loadUpdate,\n      get title() {\n        return title;\n      },\n      set title(v) {\n        title = v;\n      },\n      userReset,\n      register,\n      update,\n      oepnDelete,\n      get openDialog() {\n        return openDialog;\n      },\n      set openDialog(v) {\n        openDialog = v;\n      },\n      get dialog() {\n        return dialog;\n      },\n      set dialog(v) {\n        dialog = v;\n      },\n      OnConfirm,\n      onCancel,\n      goToList,\n      get router() {\n        return router;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      ref,\n      onMounted,\n      get AlertConfirm() {\n        return AlertConfirm;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["router","useRoute","ref","onMounted","AlertConfirm","route","array","JSON","parse","localStorage","getItem","user","id","name","contact","email","picture","loadUpdate","params","find","e","push","path","filtred","length","filter","title","userReset","register","param","trim","agenda","store","objAgenda","setItem","stringify","value","update","updated","map","oepnDelete","openDialog","dialog","titleDialog","msgDialog","btCofirmDialog","btCancelDialog","OnConfirm","deleteArray","onCancel","goToList"],"sources":["C:/Users/Alan/Documents/dev/cloudcmd/src/pages/DetailContatctView.vue"],"sourcesContent":["<script setup>\r\nimport router from \"@/router\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport AlertConfirm from \"@/components/AlertConfirm\";\r\n\r\nconst route = useRoute();\r\nlet array = JSON.parse(localStorage.getItem(\"contacts\"));\r\n\r\nlet user = ref({\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n});\r\n\r\nconst loadUpdate = () => {\r\n  if (array == null || typeof array === \"undefined\") return;\r\n  if (route.params.id && !array.find((e) => e.id == route.params.id))\r\n    return router.push({ path: `/` });\r\n  let filtred = [];\r\n  if (array.length > 0) filtred = array.filter((e) => e.id == route.params.id);\r\n  if (filtred.length > 0) user = filtred[0];\r\n};\r\n\r\nonMounted(() => {\r\n  loadUpdate();\r\n});\r\n\r\nlet title = !route.params.id ? \"Create task\" : \"Update task\";\r\n\r\nconst userReset = {\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n};\r\n\r\nconst register = (param) => {\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (store == null || typeof store === \"undefined\") {\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  } else {\r\n    agenda = JSON.parse(store);\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  }\r\n  user.value = { ...userReset };\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst update = (param) => {\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (!store == null || typeof store !== \"undefined\") {\r\n    agenda = JSON.parse(store);\r\n    if (agenda.length > 0) {\r\n      let updated = agenda.map((e) => {\r\n        if (e.id == route.params.id) {\r\n          e = { ...objAgenda };\r\n        }\r\n        return e;\r\n      });\r\n      localStorage.setItem(\"contacts\", JSON.stringify(updated));\r\n    }\r\n  }\r\n  user.value = { ...userReset };\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst oepnDelete = () => {\r\n  openDialog.value = true;\r\n};\r\n\r\nlet openDialog = ref(false);\r\nlet dialog = {\r\n  titleDialog: \"Confirm remove!\",\r\n  msgDialog: \"Wold you like to confirm remove this record?\",\r\n  btCofirmDialog: \"Confirm\",\r\n  btCancelDialog: \"Cancel\",\r\n};\r\n\r\nconst OnConfirm = () => {\r\n  openDialog.value = false;\r\n  let store = localStorage.getItem(\"contacts\");\r\n  if (store == null || typeof store === \"undefined\") return;\r\n  let array = JSON.parse(store);\r\n  if (array.length > 0) {\r\n    let deleteArray = array.filter((e) => e.id != route.params.id);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(deleteArray));\r\n  }\r\n  return router.push({ path: `/` });\r\n};\r\n\r\nconst onCancel = () => {\r\n  openDialog.value = false;\r\n};\r\n\r\nconst goToList = () => {\r\n  router.push({ path: `/` });\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"hello\"\r\n    style=\"display: flex; justify-content: center; flex-direction: column\"\r\n  >\r\n    <h1 style=\"color: #123644\">{{ title }}</h1>\r\n    <div\r\n      style=\"display: flex; flex-direction: row; justify-content: space-between; margin-bottom: 1.3rem;\"\r\n    >\r\n      <div>\r\n        <v-btn\r\n          type=\"button\"\r\n          width=\"20\"\r\n          @click=\"goToList\"\r\n          elevation=\"6\"\r\n          color=\"#14697f\"\r\n          ><span>\r\n            <v-icon\r\n              color=\"#20dad8\"\r\n              icon=\"mdi-arrow-left\"\r\n              class=\"colorPositionArrow\"\r\n          /></span>\r\n        </v-btn>\r\n      </div>\r\n      <div\r\n        v-if=\"user.id != 0\"\r\n        style=\"background-color: white\"\r\n        @click=\"oepnDelete()\"\r\n      >\r\n        <v-icon\r\n          color=\"red\"\r\n          icon=\"mdi-trash-can-outline\"\r\n          class=\"colorPositionArrow\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <form @keyup.enter=\"register(user)\">\r\n      <v-text-field v-model=\"user.name\" width=\"'2000'\" variant=\"outlined\" label=\"Name\" />\r\n      <v-text-field\r\n        v-model=\"user.contact\"\r\n        variant=\"outlined\"\r\n        label=\"Contact\"\r\n        persistent-hint\r\n        type=\"number\"\r\n      />\r\n      <v-text-field\r\n        v-model=\"user.email\"\r\n        variant=\"outlined\"\r\n        label=\"Email\"\r\n        persistent-hint\r\n        type=\"email\"\r\n      />\r\n      <v-text-field\r\n        v-model=\"user.picture\"\r\n        variant=\"outlined\"\r\n        label=\"Photo\"\r\n        persistent-hint\r\n      />\r\n      <v-btn\r\n        v-if=\"user.id == 0\"\r\n        type=\"button\"\r\n        :width=\"'500'\"\r\n        :color=\"'#123644'\"\r\n        @click=\"register(user)\"\r\n        ><span style=\"color: #20dad8\">Save</span>\r\n      </v-btn>\r\n      <v-btn\r\n        v-else\r\n        type=\"button\"\r\n        :width=\"'500'\"\r\n        :color=\"'#123644'\"\r\n        @click=\"update(user)\"\r\n        ><span style=\"color: #20dad8\">Update</span>\r\n      </v-btn>\r\n    </form>\r\n    <AlertConfirm\r\n      :setDialog=\"openDialog\"\r\n      :dialogArray=\"dialog\"\r\n      @OnConfirm=\"OnConfirm\"\r\n      @onCancel=\"onCancel\"\r\n    />\r\n  </div>\r\n</template>\r\n<style scoped></style>\r\n"],"mappings":";AACA,OAAOA,MAAM,MAAM,UAAU;AAC7B,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,YAAY,MAAM,2BAA2B;;;;;;;IAEpD,MAAMC,KAAK,GAAGJ,QAAQ,EAAE;IACxB,IAAIK,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;IAExD,IAAIC,IAAI,GAAGT,GAAG,CAAC;MACbU,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvB,IAAIX,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE;MACnD,IAAID,KAAK,CAACa,MAAM,CAACN,EAAE,IAAI,CAACN,KAAK,CAACa,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACR,EAAE,IAAIP,KAAK,CAACa,MAAM,CAACN,EAAE,CAAC,EAChE,OAAOZ,MAAM,CAACqB,IAAI,CAAC;QAAEC,IAAI,EAAG;MAAG,CAAC,CAAC;MACnC,IAAIC,OAAO,GAAG,EAAE;MAChB,IAAIjB,KAAK,CAACkB,MAAM,GAAG,CAAC,EAAED,OAAO,GAAGjB,KAAK,CAACmB,MAAM,CAAEL,CAAC,IAAKA,CAAC,CAACR,EAAE,IAAIP,KAAK,CAACa,MAAM,CAACN,EAAE,CAAC;MAC5E,IAAIW,OAAO,CAACC,MAAM,GAAG,CAAC,EAAEb,IAAI,GAAGY,OAAO,CAAC,CAAC,CAAC;IAC3C,CAAC;IAEDpB,SAAS,CAAC,MAAM;MACdc,UAAU,EAAE;IACd,CAAC,CAAC;IAEF,IAAIS,KAAK,GAAG,CAACrB,KAAK,CAACa,MAAM,CAACN,EAAE,GAAG,aAAa,GAAG,aAAa;IAE5D,MAAMe,SAAS,GAAG;MAChBf,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC;IAED,MAAMY,QAAQ,GAAIC,KAAK,IAAK;MAC1B,IAAIA,KAAK,CAACf,OAAO,CAACgB,IAAI,EAAE,CAACN,MAAM,IAAI,CAAC,IAAIK,KAAK,CAACf,OAAO,CAACgB,IAAI,EAAE,CAACN,MAAM,IAAI,CAAC,EACtE;MACF,IAAIO,MAAM,GAAG,EAAE;MACf,IAAIC,KAAK,GAAGvB,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC5C,IAAIuB,SAAS,GAAG;QAAE,GAAGJ;MAAM,CAAC;MAE5B,IAAIG,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE;QACjDC,SAAS,CAACrB,EAAE,GAAGmB,MAAM,CAACP,MAAM,GAAG,CAAC;QAChCO,MAAM,CAACV,IAAI,CAACY,SAAS,CAAC;QACtBxB,YAAY,CAACyB,OAAO,CAAC,UAAU,EAAE3B,IAAI,CAAC4B,SAAS,CAACJ,MAAM,CAAC,CAAC;MAC1D,CAAC,MAAM;QACLA,MAAM,GAAGxB,IAAI,CAACC,KAAK,CAACwB,KAAK,CAAC;QAC1BC,SAAS,CAACrB,EAAE,GAAGmB,MAAM,CAACP,MAAM,GAAG,CAAC;QAChCO,MAAM,CAACV,IAAI,CAACY,SAAS,CAAC;QACtBxB,YAAY,CAACyB,OAAO,CAAC,UAAU,EAAE3B,IAAI,CAAC4B,SAAS,CAACJ,MAAM,CAAC,CAAC;MAC1D;MACApB,IAAI,CAACyB,KAAK,GAAG;QAAE,GAAGT;MAAU,CAAC;MAC7B,OAAO3B,MAAM,CAACqB,IAAI,CAAC;QAAEC,IAAI,EAAG;MAAG,CAAC,CAAC;IACnC,CAAC;IAED,MAAMe,MAAM,GAAIR,KAAK,IAAK;MACxB,IAAIA,KAAK,CAACf,OAAO,CAACgB,IAAI,EAAE,CAACN,MAAM,IAAI,CAAC,IAAIK,KAAK,CAACf,OAAO,CAACgB,IAAI,EAAE,CAACN,MAAM,IAAI,CAAC,EACtE;MACF,IAAIO,MAAM,GAAG,EAAE;MACf,IAAIC,KAAK,GAAGvB,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC5C,IAAIuB,SAAS,GAAG;QAAE,GAAGJ;MAAM,CAAC;MAE5B,IAAI,CAACG,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE;QAClDD,MAAM,GAAGxB,IAAI,CAACC,KAAK,CAACwB,KAAK,CAAC;QAC1B,IAAID,MAAM,CAACP,MAAM,GAAG,CAAC,EAAE;UACrB,IAAIc,OAAO,GAAGP,MAAM,CAACQ,GAAG,CAAEnB,CAAC,IAAK;YAC9B,IAAIA,CAAC,CAACR,EAAE,IAAIP,KAAK,CAACa,MAAM,CAACN,EAAE,EAAE;cAC3BQ,CAAC,GAAG;gBAAE,GAAGa;cAAU,CAAC;YACtB;YACA,OAAOb,CAAC;UACV,CAAC,CAAC;UACFX,YAAY,CAACyB,OAAO,CAAC,UAAU,EAAE3B,IAAI,CAAC4B,SAAS,CAACG,OAAO,CAAC,CAAC;QAC3D;MACF;MACA3B,IAAI,CAACyB,KAAK,GAAG;QAAE,GAAGT;MAAU,CAAC;MAC7B,OAAO3B,MAAM,CAACqB,IAAI,CAAC;QAAEC,IAAI,EAAG;MAAG,CAAC,CAAC;IACnC,CAAC;IAED,MAAMkB,UAAU,GAAGA,CAAA,KAAM;MACvBC,UAAU,CAACL,KAAK,GAAG,IAAI;IACzB,CAAC;IAED,IAAIK,UAAU,GAAGvC,GAAG,CAAC,KAAK,CAAC;IAC3B,IAAIwC,MAAM,GAAG;MACXC,WAAW,EAAE,iBAAiB;MAC9BC,SAAS,EAAE,8CAA8C;MACzDC,cAAc,EAAE,SAAS;MACzBC,cAAc,EAAE;IAClB,CAAC;IAED,MAAMC,SAAS,GAAGA,CAAA,KAAM;MACtBN,UAAU,CAACL,KAAK,GAAG,KAAK;MACxB,IAAIJ,KAAK,GAAGvB,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC5C,IAAIsB,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAK,KAAK,WAAW,EAAE;MACnD,IAAI1B,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACwB,KAAK,CAAC;MAC7B,IAAI1B,KAAK,CAACkB,MAAM,GAAG,CAAC,EAAE;QACpB,IAAIwB,WAAW,GAAG1C,KAAK,CAACmB,MAAM,CAAEL,CAAC,IAAKA,CAAC,CAACR,EAAE,IAAIP,KAAK,CAACa,MAAM,CAACN,EAAE,CAAC;QAC9DH,YAAY,CAACyB,OAAO,CAAC,UAAU,EAAE3B,IAAI,CAAC4B,SAAS,CAACa,WAAW,CAAC,CAAC;MAC/D;MACA,OAAOhD,MAAM,CAACqB,IAAI,CAAC;QAAEC,IAAI,EAAG;MAAG,CAAC,CAAC;IACnC,CAAC;IAED,MAAM2B,QAAQ,GAAGA,CAAA,KAAM;MACrBR,UAAU,CAACL,KAAK,GAAG,KAAK;IAC1B,CAAC;IAED,MAAMc,QAAQ,GAAGA,CAAA,KAAM;MACrBlD,MAAM,CAACqB,IAAI,CAAC;QAAEC,IAAI,EAAG;MAAG,CAAC,CAAC;IAC5B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}