{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nimport { useRoute } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport AlertConfirm from \"@/components/AlertConfirm\";\nexport default {\n  __name: 'DetailContatctView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const route = useRoute();\n    let array = JSON.parse(localStorage.getItem(\"contacts\"));\n    let user = ref({\n      id: 0,\n      name: \"\",\n      contact: \"\",\n      email: \"\",\n      picture: \"\"\n    });\n    const loadUpdate = () => {\n      let filtred = [];\n      if (array == null || typeof array === \"undefined\") return;\n      if (array.length > 0) filtred = array.filter(e => e.id == route.params.id);\n      user = filtred[0];\n    };\n    onMounted(() => {\n      loadUpdate();\n    });\n    let title = !route.params.id ? \"Create task\" : \"Update task\";\n    const userReset = {\n      id: 0,\n      name: \"\",\n      contact: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n    const register = param => {\n      if (param.contact.trim().length == 0 || param.contact.trim().length == 0) return;\n      let agenda = [];\n      let store = localStorage.getItem(\"contacts\");\n      let objAgenda = {\n        ...param\n      };\n      if (store == null || typeof store === \"undefined\") {\n        objAgenda.id = agenda.length + 1;\n        agenda.push(objAgenda);\n        localStorage.setItem(\"contacts\", JSON.stringify(agenda));\n      } else {\n        agenda = JSON.parse(store);\n        objAgenda.id = agenda.length + 1;\n        agenda.push(objAgenda);\n        localStorage.setItem(\"contacts\", JSON.stringify(agenda));\n      }\n      user.value = {\n        ...userReset\n      };\n    };\n    const update = param => {\n      console.log(param);\n      //   let objAgenda = { ...param };\n      //   objAgenda.id = agenda.value.length + 1;\n      //   agenda.value.push(objAgenda);\n      //   console.log(agenda);\n      //   user.value = { ...userReset };\n    };\n\n    const oepnDelete = () => {\n      openDialog.value = true;\n    };\n    let openDialog = ref(false);\n    let dialog = {\n      titleDialog: \"Confirm remove!\",\n      msgDialog: \"Wold you like to confirm remove this record?\",\n      btCofirmDialog: \"Confirm\",\n      btCancelDialog: \"Cancel\"\n    };\n    const OnConfirm = emit => {\n      openDialog.value = false;\n      //deletar agenda\n      console.log(\"run\", emit);\n    };\n    const onCancel = emit => {\n      openDialog.value = false;\n      console.log(\"run\", emit);\n    };\n    const goToList = () => {\n      router.push({\n        path: `/`\n      });\n    };\n    const __returned__ = {\n      route,\n      get array() {\n        return array;\n      },\n      set array(v) {\n        array = v;\n      },\n      get user() {\n        return user;\n      },\n      set user(v) {\n        user = v;\n      },\n      loadUpdate,\n      get title() {\n        return title;\n      },\n      set title(v) {\n        title = v;\n      },\n      userReset,\n      register,\n      update,\n      oepnDelete,\n      get openDialog() {\n        return openDialog;\n      },\n      set openDialog(v) {\n        openDialog = v;\n      },\n      get dialog() {\n        return dialog;\n      },\n      set dialog(v) {\n        dialog = v;\n      },\n      OnConfirm,\n      onCancel,\n      goToList,\n      get router() {\n        return router;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      ref,\n      onMounted,\n      get AlertConfirm() {\n        return AlertConfirm;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["router","useRoute","ref","onMounted","AlertConfirm","route","array","JSON","parse","localStorage","getItem","user","id","name","contact","email","picture","loadUpdate","filtred","length","filter","e","params","title","userReset","register","param","trim","agenda","store","objAgenda","push","setItem","stringify","value","update","console","log","oepnDelete","openDialog","dialog","titleDialog","msgDialog","btCofirmDialog","btCancelDialog","OnConfirm","emit","onCancel","goToList","path"],"sources":["C:/Users/Alan/Documents/dev/cloudcmd/src/pages/DetailContatctView.vue"],"sourcesContent":["<script setup>\r\nimport router from \"@/router\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport AlertConfirm from \"@/components/AlertConfirm\";\r\n\r\nconst route = useRoute();\r\nlet array = JSON.parse(localStorage.getItem(\"contacts\"));\r\n\r\nlet user = ref({\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n});\r\n\r\nconst loadUpdate = () => {\r\n  let filtred = [];\r\n  if (array == null || typeof array === \"undefined\") return;\r\n  if (array.length > 0) filtred = array.filter((e) => e.id == route.params.id);\r\n  user = filtred[0];\r\n};\r\n\r\nonMounted(() => {\r\n    loadUpdate();\r\n});\r\n\r\nlet title = !route.params.id ? \"Create task\" : \"Update task\";\r\n\r\nconst userReset = {\r\n  id: 0,\r\n  name: \"\",\r\n  contact: \"\",\r\n  email: \"\",\r\n  picture: \"\",\r\n};\r\n\r\nconst register = (param) => {\r\n  if (param.contact.trim().length == 0 || param.contact.trim().length == 0)\r\n    return;\r\n  let agenda = [];\r\n  let store = localStorage.getItem(\"contacts\");\r\n  let objAgenda = { ...param };\r\n\r\n  if (store == null || typeof store === \"undefined\") {\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  } else {\r\n    agenda = JSON.parse(store);\r\n    objAgenda.id = agenda.length + 1;\r\n    agenda.push(objAgenda);\r\n    localStorage.setItem(\"contacts\", JSON.stringify(agenda));\r\n  }\r\n  user.value = { ...userReset };\r\n};\r\n\r\nconst update = (param) => {\r\n  console.log(param);\r\n  //   let objAgenda = { ...param };\r\n  //   objAgenda.id = agenda.value.length + 1;\r\n  //   agenda.value.push(objAgenda);\r\n  //   console.log(agenda);\r\n  //   user.value = { ...userReset };\r\n};\r\n\r\nconst oepnDelete = () => {\r\n  openDialog.value = true;\r\n};\r\n\r\nlet openDialog = ref(false);\r\nlet dialog = {\r\n  titleDialog: \"Confirm remove!\",\r\n  msgDialog: \"Wold you like to confirm remove this record?\",\r\n  btCofirmDialog: \"Confirm\",\r\n  btCancelDialog: \"Cancel\",\r\n};\r\n\r\nconst OnConfirm = (emit) => {\r\n  openDialog.value = false;\r\n  //deletar agenda\r\n  console.log(\"run\", emit);\r\n};\r\n\r\nconst onCancel = (emit) => {\r\n  openDialog.value = false;\r\n  console.log(\"run\", emit);\r\n};\r\n\r\nconst goToList = () => {\r\n  router.push({ path: `/` });\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"hello\"\r\n    style=\"display: flex; justify-content: center; flex-direction: column\"\r\n  >\r\n    <v-btn type=\"button\" @click=\"goToList\"\r\n      ><span style=\"color: white\">\r\n        <v-icon color=\"red\" icon=\"mdi-arrow-left\" class=\"colorPositionArrow\"\r\n      /></span>\r\n    </v-btn>\r\n    <h1>{{ title }}</h1>\r\n\r\n    <form @keyup.enter=\"register(user)\">\r\n      <v-text-field v-model=\"user.name\" variant=\"outlined\" label=\"Name\" />\r\n      <v-text-field\r\n        v-model=\"user.contact\"\r\n        variant=\"outlined\"\r\n        label=\"Contact\"\r\n        persistent-hint\r\n        type=\"number\"\r\n      />\r\n      <v-text-field\r\n        v-model=\"user.email\"\r\n        variant=\"outlined\"\r\n        label=\"Email\"\r\n        persistent-hint\r\n        type=\"email\"\r\n      />\r\n      <v-text-field\r\n        v-model=\"user.picture\"\r\n        variant=\"outlined\"\r\n        label=\"Photo\"\r\n        persistent-hint\r\n      />\r\n      <v-btn\r\n        v-if=\"user.id == 0\"\r\n        type=\"button\"\r\n        :width=\"'1000'\"\r\n        :color=\"'#343439'\"\r\n        @click=\"register(user)\"\r\n        ><span style=\"color: white\">Save</span>\r\n      </v-btn>\r\n      <v-btn\r\n        v-else\r\n        type=\"button\"\r\n        :width=\"'1000'\"\r\n        :color=\"'#343439'\"\r\n        @click=\"update(user)\"\r\n        ><span style=\"color: white\">Update</span>\r\n      </v-btn>\r\n      <div style=\"background-color: white\" @click=\"oepnDelete()\">\r\n        <v-icon\r\n          color=\"red\"\r\n          icon=\"mdi-trash-can-outline\"\r\n          class=\"colorPositionArrow\"\r\n        />\r\n      </div>\r\n    </form>\r\n    <AlertConfirm\r\n      :setDialog=\"openDialog\"\r\n      :dialogArray=\"dialog\"\r\n      @OnConfirm=\"OnConfirm\"\r\n      @onCancel=\"onCancel\"\r\n    />\r\n  </div>\r\n</template>\r\n<style scoped></style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}